/* Import base auth styles */
@import './authform.css';

/* ✅ Form styling giống RegisterForm */
.forgot-password-form form {
  gap: 0.75rem !important;
}

/* ✅ Scrollable form container giống AuthForm */
.forgot-password-form .scrollable-form-container {
  flex: 1 !important;
  overflow-y: auto !important; /* Cho phép scroll dọc */
  overflow-x: hidden !important; /* Ẩn scroll ngang */
  display: flex !important;
  flex-direction: column !important;
  margin-bottom: 1rem !important;
  min-height: 0 !important; /* Cho phép flex child shrink */
  max-height: calc(100vh - 300px) !important; /* Đặt chiều cao tối đa */
  scrollbar-width: thin; /* Firefox custom scrollbar */
  scrollbar-color: #475569 rgba(15, 23, 42, 0.2); /* Firefox scrollbar colors */
}

/* ✅ Custom scrollbar cho Webkit browsers (Chrome, Safari, Edge) */
.forgot-password-form .scrollable-form-container::-webkit-scrollbar {
  width: 6px;
}

.forgot-password-form .scrollable-form-container::-webkit-scrollbar-track {
  background: rgba(15, 23, 42, 0.1);
  border-radius: 3px;
}

.forgot-password-form .scrollable-form-container::-webkit-scrollbar-thumb {
  background: rgba(71, 85, 105, 0.5);
  border-radius: 3px;
  border: 1px solid rgba(15, 23, 42, 0.2);
}

.forgot-password-form .scrollable-form-container::-webkit-scrollbar-thumb:hover {
  background: rgba(71, 85, 105, 0.7);
}

/* ✅ Form scrollbar styling - FIXED: force overflow */
.forgot-password-form form {
  overflow-y: auto !important;
  overflow-x: hidden !important;
  padding-right: 8px !important;
  margin-right: -4px !important;
  padding-bottom: 1rem !important;
  height: 100% !important; /* ✅ Force height để có scroll */
  min-height: 400px !important; /* ✅ Min height để luôn có scroll */
  
  /* Firefox scrollbar */
  scrollbar-width: thin !important;
  scrollbar-color: rgba(59, 130, 246, 0.5) rgba(15, 23, 42, 0.3) !important;
  
  /* Smooth scrolling */
  scroll-behavior: smooth !important;
}

/* ✅ Webkit browsers scrollbar (Chrome, Safari, Edge) */
.forgot-password-form form::-webkit-scrollbar {
  width: 6px;
}

.forgot-password-form form::-webkit-scrollbar-track {
  background: rgba(15, 23, 42, 0.3);
  border-radius: 3px;
}

.forgot-password-form form::-webkit-scrollbar-thumb {
  background: rgba(59, 130, 246, 0.5);
  border-radius: 3px;
  border: 1px solid rgba(15, 23, 42, 0.2);
  transition: background 0.2s ease;
}

.forgot-password-form form::-webkit-scrollbar-thumb:hover {
  background: rgba(59, 130, 246, 0.7);
}

.forgot-password-form form::-webkit-scrollbar-thumb:active {
  background: rgba(59, 130, 246, 0.8);
}

/* ✅ Send code button hover - giống RegisterForm */
.forgot-password-form .send-code-button:hover:not(:disabled) {
  background-color: #2563eb !important;
  transform: translateY(-1px);
}

.forgot-password-form .send-code-button:active:not(:disabled) {
  transform: translateY(0);
}

/* ✅ Resend button hover */
.forgot-password-form .resend-button:hover:not(:disabled) {
  color: #d97706 !important;
}

/* ✅ Back to login link hover */
.forgot-password-form .back-to-login-link:hover {
  color: #3b82f6 !important;
  text-decoration: underline !important;
}

/* ✅ Verification container styling - giống RegisterForm */
.forgot-password-form .verification-container {
  display: flex !important;
  gap: 0.5rem !important;
  align-items: flex-end !important;
}

.forgot-password-form .verification-input-wrapper {
  flex: 1 !important;
}

/* ✅ Resend container styling */
.forgot-password-form .resend-container {
  margin-top: -0.5rem !important;
  margin-bottom: 0.25rem !important;
}

/* ✅ Back to login container - nằm ngoài scroll */
.forgot-password-form .back-to-login-container {
  flex-shrink: 0 !important;
  margin-top: auto !important;
  border-top: 1px solid rgba(148, 163, 184, 0.2) !important;
  padding-top: 1rem !important;
}

/* ✅ Focus enhancements */
.forgot-password-form .form-input-dark:focus {
  border-color: rgba(59, 130, 246, 0.6) !important;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
  scroll-margin-top: 1rem !important;
  scroll-margin-bottom: 1rem !important;
}

/* ✅ Disabled inputs styling */
.forgot-password-form input:disabled,
.forgot-password-form .password-input input:disabled {
  opacity: 0.6 !important;
  cursor: not-allowed !important;
  background-color: rgba(15, 23, 42, 0.5) !important;
}

/* ✅ Success/Error states */
.forgot-password-form.success .auth-form {
  border-color: rgba(34, 197, 94, 0.4) !important;
}

.forgot-password-form.error .auth-form {
  border-color: rgba(239, 68, 68, 0.4) !important;
}

/* ✅ Responsive adjustments - chỉ cho mobile */
@media (max-width: 768px) {
  .forgot-password-form .verification-container {
    flex-direction: column !important;
    align-items: stretch !important;
    gap: 0.5rem !important;
  }
  
  .forgot-password-form .send-code-button {
    width: 100% !important;
    min-width: auto !important;
  }
  
  .forgot-password-form form::-webkit-scrollbar {
    width: 4px !important;
  }
  
  .forgot-password-form .scrollable-form-container {
    max-height: calc(100vh - 200px) !important;
  }
}

/* ✅ REMOVE old form-title CSS vì đã xóa */
/* Xóa tất cả CSS liên quan đến .form-title */

@media (max-height: 600px) {
  .forgot-password-form .scrollable-form-container {
    max-height: calc(100vh - 180px) !important;
  }
  
  .forgot-password-form form {
    min-height: 350px !important;
  }
}

@media (max-width: 480px) {
  .forgot-password-form .scrollable-form-container {
    max-height: calc(100vh - 160px) !important;
  }
  
  .forgot-password-form form {
    min-height: 300px !important;
  }
}

@media (max-height: 500px) {
  .forgot-password-form .scrollable-form-container {
    max-height: calc(100vh - 140px) !important;
  }
  
  .forgot-password-form form {
    min-height: 280px !important;
  }
}